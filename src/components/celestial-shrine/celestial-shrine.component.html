<div class="h-full w-full bg-gray-800 p-4 flex flex-col animate-fadeIn relative overflow-hidden">
  <header class="text-center mb-4 z-10">
    <h1 class="text-3xl font-orbitron text-cyan-300">Celestial Shrine</h1>
    <p class="text-gray-400">Invoke powerful, temporary blessings from the cosmos.</p>
  </header>

  <!-- Background VFX -->
  <div class="absolute inset-0 bg-gradient-to-b from-gray-900 via-indigo-900/40 to-gray-900 opacity-50"></div>
  <div class="absolute inset-0 z-0 pointer-events-none animate-bg-float" style="animation-duration: 120s;">
    <!-- Starfield -->
    <div class="star-particle" style="top: 10%; left: 15%; animation-delay: 0s;"></div>
    <div class="star-particle" style="top: 25%; left: 80%; animation-delay: 1s; width: 1px; height: 1px;"></div>
    <div class="star-particle" style="top: 70%; left: 5%; animation-delay: 2.5s;"></div>
    <div class="star-particle" style="top: 85%; left: 90%; animation-delay: 1.5s;"></div>
    <div class="star-particle" style="top: 50%; left: 50%; animation-delay: 3s; width: 3px; height: 3px;"></div>
  </div>

  <div class="flex-grow overflow-y-auto pr-2 z-10">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 max-w-5xl mx-auto">
      @for (blessing of allBlessings; track blessing.type) {
        @let status = getBlessingStatus(blessing.type);
        <div class="bg-gray-900/60 backdrop-blur-sm rounded-xl border-2 p-6 flex flex-col text-center items-center justify-between"
             [class.border-cyan-500]="status.status !== 'cooldown'"
             [class.border-gray-600]="status.status === 'cooldown'">
          
          <h2 class="font-orbitron text-xl font-bold" [class.text-cyan-400]="status.status !== 'cooldown'" [class.text-gray-500]="status.status === 'cooldown'">{{ blessing.name }}</h2>
          <p class="text-sm text-gray-400 my-4 flex-grow">{{ blessing.description }}</p>

          <button (click)="activate(blessing.type)" [disabled]="status.status !== 'ready'"
                  class="w-full py-3 font-bold text-lg rounded-md transition-all duration-200 transform hover:scale-105 active:scale-95 disabled:cursor-not-allowed">
            @switch (status.status) {
              @case ('ready') {
                <div class="bg-cyan-600 text-white w-full h-full py-3 rounded-md hover:bg-cyan-500">
                    <span>Activate</span>
                </div>
              }
              @case ('active') {
                <div class="bg-green-600 text-white w-full h-full py-3 rounded-md animate-pulse">
                  <span>Active</span>
                  <span class="block text-sm font-orbitron">{{ formatDuration(status.remainingSeconds) }}</span>
                </div>
              }
              @case ('cooldown') {
                <div class="bg-gray-700 text-gray-400 w-full h-full py-3 rounded-md">
                  <span>On Cooldown</span>
                  <span class="block text-sm font-orbitron">{{ formatDuration(status.remainingSeconds) }}</span>
                </div>
              }
            }
          </button>
        </div>
      }
    </div>
  </div>
</div>